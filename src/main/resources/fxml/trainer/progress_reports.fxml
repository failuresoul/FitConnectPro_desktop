<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.gym.controllers.trainer.ClientProgressController"
            style="-fx-background-color:  #F5F7FA;">

    <top>
        <VBox spacing="15.0" style="-fx-padding: 20; -fx-background-color: white;">
            <Label text="Client Progress Tracking" style="-fx-font-size: 24px; -fx-font-weight:  bold; -fx-text-fill: #263238;" />

            <HBox spacing="15.0" alignment="CENTER_LEFT">
                <Label text="Select Client:" style="-fx-font-weight: bold;" />
                <ComboBox fx:id="clientComboBox" promptText="Choose a client" prefWidth="200" />

                <Label text="From:" style="-fx-font-weight: bold; -fx-padding:  0 0 0 20;" />
                <DatePicker fx:id="startDatePicker" prefWidth="140" />

                <Label text="To:" style="-fx-font-weight: bold;" />
                <DatePicker fx:id="endDatePicker" prefWidth="140" />

                <Button fx:id="loadProgressBtn" text="Load Progress"
                        style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-padding:  8 20; -fx-font-weight: bold;" />
            </HBox>
            <Separator />
        </VBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" style="-fx-background-color: transparent;">
            <VBox spacing="20.0" style="-fx-padding: 20;">

                <!-- Workout Completion Rate -->
                <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                    <Label text="Workout Completion Rate" style="-fx-font-size:  18px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                    <HBox spacing="20" alignment="CENTER_LEFT">
                        <ProgressBar fx:id="workoutProgressBar" prefWidth="400" prefHeight="30" progress="0" />
                        <Label fx:id="workoutCompletionLabel" text="0%" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #27ae60;" />
                    </HBox>
                    <Label fx:id="workoutDetailsLabel" text="0 workouts completed" style="-fx-text-fill: #7f8c8d;" />
                </VBox>

                <!-- Meals & Water -->
                <HBox spacing="20">
                    <!-- Meals Logged -->
                    <VBox spacing="10" style="-fx-background-color:  white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 2);" HBox.hgrow="ALWAYS">
                        <Label text="Meals Logged" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                        <Label fx:id="mealsLoggedLabel" text="0 meals logged" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #e74c3c;" />
                    </VBox>

                    <!-- Water Intake Compliance -->
                    <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 2);" HBox.hgrow="ALWAYS">
                        <Label text="Water Intake Compliance" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                        <HBox spacing="15" alignment="CENTER_LEFT">
                            <ProgressBar fx:id="waterProgressBar" prefWidth="200" prefHeight="30" progress="0" />
                            <Label fx:id="waterComplianceLabel" text="0%" style="-fx-font-size: 24px; -fx-font-weight:  bold; -fx-text-fill: #3498db;" />
                        </HBox>
                        <Label fx:id="waterDetailsLabel" text="0 of 0 days met goal" style="-fx-text-fill: #7f8c8d;" />
                    </VBox>
                </HBox>

                <!-- Weight Change Chart -->
                <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                    <HBox spacing="20" alignment="CENTER_LEFT">
                        <Label text="Weight Progress" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                        <Label text="Change:" style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d;" />
                        <Label fx:id="weightChangeLabel" text="No change" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #f39c12;" />
                    </HBox>
                    <LineChart fx:id="weightChart" prefHeight="300" legendVisible="true" animated="true">
                        <xAxis>
                            <CategoryAxis side="BOTTOM" label="Date" />
                        </xAxis>
                        <yAxis>
                            <NumberAxis side="LEFT" label="Weight (kg)" />
                        </yAxis>
                    </LineChart>
                </VBox>

                <!-- Goal Achievement Summary -->
                <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                    <Label text="Goal Achievement Summary" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                    <Label fx:id="goalSummaryLabel" text="No goals tracked" style="-fx-font-size:  16px; -fx-text-fill: #7f8c8d;" />
                </VBox>

                <!-- Trainer Feedback -->
                <VBox spacing="10" style="-fx-background-color:  white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                    <Label text="Trainer Feedback" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #263238;" />
                    <TextArea fx:id="trainerFeedbackArea"
                              promptText="Enter your feedback for the client's weekly report..."
                              prefHeight="120"
                              wrapText="true" />
                </VBox>

                <!-- Send Report Button -->
                <HBox spacing="15" alignment="CENTER">
                    <Button fx:id="sendReportBtn" text="ðŸ“§ Send Weekly Report to Client"
                            style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-padding: 15 50; -fx-font-size: 16px; -fx-font-weight: bold;" />
                </HBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>